"use strict";(self.webpackChunkthuc_tap_frontend_admin_nhom2=self.webpackChunkthuc_tap_frontend_admin_nhom2||[]).push([[911],{7898:function(e,n,t){var r=t(1234),a=t(9385),i=t(3329);function s(e){return e.loading?(0,i.jsx)(a.Z,{}):e.error?(0,i.jsx)(r.Z,{showIcon:!0,message:JSON.stringify(e.error),type:"warning"}):e.fulfilled?e.children:(0,i.jsx)(i.Fragment,{children:"Something has happen"})}s.defaultValue={loading:!0,fulfilled:!1,error:null,children:(0,i.jsx)(i.Fragment,{})},n.Z=s},2911:function(e,n,t){t.r(n);var r=t(1413),a=t(4165),i=t(5861),s=t(9439),l=t(9929),u=t(3090),o=t(1105),c=t(43),d=t(6553),f=t(6106),h=t(914),m=t(6717),p=t(2556),g=t(2791),Z=t(7898),x=t(7689),w=t(9085),j=t(755),v=t(3153),b=t(4861),S=t(6344),k=t(3329),T=(u.Z.RangePicker,o.Z.TextArea);n.default=function(){var e=(0,g.useState)(!1),n=(0,s.Z)(e,2),t=n[0],u=n[1],y=(0,g.useState)(!1),C=(0,s.Z)(y,2),F=C[0],_=C[1],A=(0,g.useState)(null),I=(0,s.Z)(A,2),L=I[0],N=I[1],O=(0,g.useState)([]),D=(0,s.Z)(O,2),P=D[0],R=D[1],U=(0,g.useState)("Th\xeam n\u1ed9i dung"),V=(0,s.Z)(U,2),X=V[0],q=V[1],B=(0,g.useState)(null),E=(0,s.Z)(B,2),M=E[0],z=E[1],H=(0,g.useState)(!1),J=(0,s.Z)(H,2),G=J[0],K=J[1],Q=(0,x.UO)().id,W=(0,x.s0)(),Y=(0,v.T)();(0,g.useEffect)((function(){Q?Number(Q)?(q("S\u1eeda n\u1ed9i dung"),u(!0),$(Number(Q))):W("/404"):(_(!1),N(null))}),[Q]);var $=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(n){var t,r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _(!0),e.next=3,b.Z.getAuthor(n);case 3:(t=e.sent).success?(z(t.data),null!==(r=t.data)&&void 0!==r&&r.image&&R([{uid:"-1",name:"image.png",status:"done",url:t.data.image}]),_(!1)):(w.Am.error(t.message,j.X),N(t.message));case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),ee=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(n){var t,r,i;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.url){e.next=5;break}return e.next=4,new Promise((function(e){var t=new FileReader;t.readAsDataURL(n.originFileObj),t.onload=function(){return e(t.result)}}));case 4:t=e.sent;case 5:(r=new Image).src=t,null===(i=window.open(t))||void 0===i||i.document.write(r.outerHTML);case 9:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,k.jsxs)(Z.Z,{loading:F,error:L,fulfilled:!Q||Boolean(M),children:[(0,k.jsx)("div",{className:"text-center w-full h-[40px] font-bold text-xl",children:X}),(0,k.jsx)(c.Z,{tip:"Loading...",size:"large",spinning:G,children:(0,k.jsxs)(d.Z,(0,r.Z)((0,r.Z)({},{labelCol:{span:8},wrapperCol:{span:16}}),{},{onFinish:function(e){K(!0),e.image=e.image.file;var n=new FormData;Object.keys(e).map((function(t){"image"!==t&&n.append(t,e[t])})),P&&n.append("image",P[0].originFileObj),"S\u1eeda n\u1ed9i dung"==X?Y((0,S.Sl)({id:Q,formData:n})).unwrap().then((function(e){console.log(e),W("/author")})).catch((function(e){K(!1),w.Am.error(e.message,j.X)})):Y((0,S.NT)(n)).unwrap().then((function(e){console.log(e),W("/author")})).catch((function(e){K(!1),w.Am.error(e.message,j.X)}))},disabled:t,initialValues:(0,r.Z)({},M),children:[(0,k.jsxs)(f.Z,{gutter:16,children:[(0,k.jsxs)(h.Z,{span:12,children:[(0,k.jsx)(d.Z.Item,{label:"T\xean t\xe1c gi\u1ea3",name:"name",rules:[{required:!0,message:"Vui l\xf2ng nh\u1eadp t\xean t\xe1c gi\u1ea3!"}],children:(0,k.jsx)(o.Z,{})}),(0,k.jsx)(d.Z.Item,{label:"M\xf4 t\u1ea3",name:"description",children:(0,k.jsx)(T,{rows:4})})]}),(0,k.jsx)(h.Z,{span:12,children:(0,k.jsx)(d.Z.Item,{label:"\u1ea2nh t\xe1c gi\u1ea3",name:"image",rules:[{required:!0,message:"B\u1ea1n c\u1ea7n t\u1ea3i l\xean \u1ea3nh"}],children:(0,k.jsx)(m.Z,{action:"https://www.mocky.io/v2/5cc8019d300000980a055e76",listType:"picture-card",defaultFileList:P,onChange:function(e){var n=e.fileList;R(n)},onPreview:ee,children:P.length<1&&(0,k.jsxs)("div",{children:[(0,k.jsx)(l.Z,{}),(0,k.jsx)("div",{style:{marginTop:8},children:"Upload"})]})})})})]}),(0,k.jsx)(d.Z.Item,(0,r.Z)((0,r.Z)({},{wrapperCol:{offset:8,span:16}}),{},{children:(0,k.jsx)(p.ZP,{htmlType:"submit",onClick:function(e){var n=e.target.innerText;"S\u1eeda"==n&&(e.preventDefault(),u(!1))},disabled:!1,children:"Th\xeam n\u1ed9i dung"==X?"L\u01b0u":t?"S\u1eeda":"C\u1eadp nh\u1eadt"})}))]}))})]})}},9929:function(e,n,t){var r=t(7462),a=t(2791),i=t(7042),s=t(3717),l=function(e,n){return a.createElement(s.Z,(0,r.Z)({},e,{ref:n,icon:i.Z}))};n.Z=a.forwardRef(l)}}]);
//# sourceMappingURL=911.df7b10a7.chunk.js.map